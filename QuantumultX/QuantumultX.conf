[general]
server_check_url=http://www.gstatic.com/generate_204
server_check_timeout=3000

;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://ghproxy.com/https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://ghproxy.com/https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/GeoLocationChecker/QuantumultX/IP-API.js
resource_parser_url=https://ghproxy.com/https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js

dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
udp_whitelist=53, 80-427, 444-65535

;profile_img_url=

;fallback_udp_policy=direct
;icmp_auto_reply=true

;dns_reject_domain_behavior = loopback

[dns]
;no-system
;no-ipv6

server=121.4.4.41

server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29

server=/*.dl.playstation.net/119.29.29.29

server=/amplifi.lan/system
server=/router.synology.com/system
server=/sila.razer.com/system
server=/router.asus.com/system
server=/routerlogin.net/system
server=/orbilogin.com/system
server=/www.LinksysSmartWiFi.com/system
server=/LinksysSmartWiFi.com/system
server=/myrouter.local/system
server=/www.miwifi.com/system
server=/miwifi.com/system
server=/mediarouter.home/system
server=/tplogin.cn/system
server=/tplinklogin.net/system
server=/melogin.cn/system
server=/falogin.cn/system

;doh-server=https://dns.alidns.com/dns-query, excluded_ssids=SSID1, SSID2
;server=8.8.4.4:53, excluded_ssids=SSID1, SSID2
;server=/example0.com/system
;server=/example1.com/8.8.4.4
;server=/*.example2.com/223.5.5.5
;server=/example4.com/[2001:4860:4860::8888]:53
;address=/example5.com/192.168.16.18
;address=/example6.com/[2001:8d3:8d3:8d3:8d3:8d3:8d3:8d3]
;alias = /example7.com/another-example.com

[policy]
static=Proxies, proxy, HK, TW, JP, SG, US, direct, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png
static=Apple, direct, proxy, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_2.png
static=Telegram, proxy, direct, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram_X.png
static=NeteaseMusic, direct, server-tag-regex=(?i)(ç½‘æ˜“|Netease|Music|Unlock|è§£é”), img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netease_Music_Unlock.png
static=Spotify, direct, proxy, HK, JP, US, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Spotify.png
static=Speedtest, direct, proxy, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Speedtest.png
static=GlobalTV, proxy, HK, TW, JP, SG, US, direct, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ForeignMedia.png
static=AsianTV, direct, HK, TW, proxy, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/DomesticMedia.png
static=Advertising, reject, direct, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png
static=IPTracker, direct, proxy, reject, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Want_Want.png
static=Domestic, direct, proxy, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Domestic.png
static=FINAL, proxy, direct, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png
url-latency-benchmark=HK, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
url-latency-benchmark=TW, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png
url-latency-benchmark=JP, server-tag-regex=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
url-latency-benchmark=SG, server-tag-regex=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
url-latency-benchmark=US, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png

[server_remote]


[filter_remote]
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Apple/BlockiOSUpdate.list, tag=â›”ï¸ Block iOS Update, force-policy=reject, opt-parser=true, enabled=false
https://ghproxy.com/https://raw.githubusercontent.com/lwd-temp/anti-ip-attribution/main/generated/quantumultx.list, tag=ğŸ›¡ï¸ Anti IP Tracker, force-policy=IPTracker, opt-parser=true, enabled=false
https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Direct/Direct.list, tag=ğŸ”‚ Unbreak, force-policy=direct, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Surge/Custom/video-ad.list, tag=ğŸ›¡ VideoADs, force-policy=Advertising, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AdvertisingLite/AdvertisingLite.list, tag=ğŸ›¡ Advertising, force-policy=Advertising, opt-parser=true, enabled=true
;https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list, tag=ğŸ›¡ Advertising, force-policy=Advertising, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Guard/Hijacking.list, tag=ğŸ›¡ï¸ Hijacking, force-policy=Advertising, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=ğŸ›¡ï¸ Privacy, force-policy=Advertising, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ZhihuAds/ZhihuAds.list, tag=ğŸ›¡ ZhihuADs, force-policy=Advertising, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Telegram/Telegram.list, tag=âœˆ Telegram, force-policy=Telegram, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Speedtest/Speedtest.list, tag=ğŸš€ Speedtest, force-policy=Speedtest, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/shangguanhongxin/for-surge/master/list/NeteaseMusic.list, tag=ğŸµ Netease Music, force-policy=NeteaseMusic, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Music/Spotify.list, tag=ğŸµ Spotify, force-policy=Spotify, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Streaming.list, tag=ğŸ Streaming, force-policy=GlobalTV, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/StreamingSE.list, tag=ğŸ StreamingSE, force-policy=AsianTV, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/StreamingCN.list, tag=ğŸ StreamingCN, force-policy=AsianTV, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Apple/AppStore.list, tag=ğŸ Apple, force-policy=Apple, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Apple/AppStoreConnect.list, tag=ğŸ Apple, force-policy=Apple, opt-parser=true, enabled=true
;https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Apple/TestFlight.list, tag=ğŸ Apple, force-policy=Apple, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Global.list, tag=ğŸ‡ºğŸ‡³ Global, force-policy=Proxies, opt-parser=true, enabled=true
https://ghproxy.com/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/China.list, tag=ğŸ‡¨ğŸ‡³ China, force-policy=Domestic, opt-parser=true, enabled=true

[rewrite_remote]

##Thanks to @Alex0510 @app2smile @blackmatrix7 @ddgksf2013 @DivineEngine @evilbutcher @Hausd0rff @I-am-R-E @NobyDa @Orz-3 @zmqcherish @zZPiglet and more##

https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/SafeRedirect/SafeRedirect.conf, tag=ğŸ”€ Redirect, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Module/Block/SoftwareUpdate.sgmodule, tag=â›”ï¸ Block OTA Update(iPadOS), opt-parser=false, enabled=false
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, opt-parser=false, enabled=true, tag=boxjs
https://raw.githubusercontent.com/1rz/Rules/master/QuantumultX/Rewrite.conf, tag=ğŸ­, opt-parser=false, enabled=true

# Block ADs
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/AdvertisingLite/AdvertisingLite.conf, tag=ğŸ›¡ Block Advertising, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/adsense.conf, tag=â›”ï¸ å¹¿å‘Šè”ç›Ÿ, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/StartUp.conf, tag=â›”ï¸ Block StartUp Ads, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/WeChat.conf, tag=â›”ï¸ WeChat Official Account, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/AdvertisingScript/AdvertisingScript.conf, tag=â›”ï¸ çŸ¥ä¹&å¼ å¤§å¦ˆ, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/Bilibili.conf, tag=â›”ï¸ BiliBili, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/tieba-qx.conf, tag=â›”ï¸ ç™¾åº¦è´´å§, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/AdBlock/WeiboLite.conf, tag=â›”ï¸ å¾®åšå›½é™…ç‰ˆ(é¡»/remake), opt-parser=false, enabled=true
https://raw.githubusercontent.com/zmqcherish/proxy-script/main/weibo.conf, tag=â›”ï¸ æ–°æµªå¾®åš, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/YouTube.conf, tag=ğŸ Block YouTube Ads (Premiumå‹¿ç”¨), opt-parser=false, enabled=false
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/YouTubeAds.conf#cdn=1, tag=ğŸ Block YouTube Ads (ä»…ç”¨äºè§†é¢‘å¹¿å‘Š), opt-parser=false, enabled=false

# Helper
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Upgrade/Upgrade.conf, tag=ğŸš€ Block APP Update, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=ğŸš€ Fuck WeChat110, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/Orz-3/master/QuantumultX/TikTok.conf, tag=ğŸ Tiktok è§£é”, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/Bili_Auto_Regions.conf, tag=ğŸ BiliBili è‡ªåŠ¨åˆ‡æ¢åœ°åŒº & æ˜¾ç¤ºè±†ç“£è¯„åˆ†, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Rewrite/Function/UposRedirect.conf, tag=ğŸ BiliBili æµ·å¤–Uposé‡å†™, opt-parser=false, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/TestFlightDownload.conf, tag=ğŸ TestFlight è§£é™¤åŒºåŸŸé™åˆ¶, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/Netflix_ratings.conf, tag=ğŸ Netflixè¯„åˆ†, opt-parser=false, enabled=true

# Crack
https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.conf, tag=ğŸµ Spotify, opt-parser=false, enabled=false
https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/KuWoMusic/KuWoMusic.QuantumultX.snippet, tag=ğŸµ é…·æˆ‘éŸ³ä¹, opt-parser=true, enabled=true
;https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/Nicegram/QuantumultX.snippet, tag=Nicegram, opt-parser=false, enabled=false
https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/WPSOffice/QuantumultX.snippet, tag=WPS, opt-parser=false, enabled=true

[filter_local]
IP-CIDR,180.76.76.200/32,REJECT
DOMAIN,118.89.204.198,REJECT
DOMAIN-KEYWORD,118.89.204.198,REJECT
IP-CIDR,118.89.204.198/32,REJECT
DOMAIN,appcloud2.in.zhihu.com,REJECT
HOST,mqtt.zhihu.com,reject
HOST,sugar.zhihu.com,reject
USER-AGENT,AVOS*,REJECT

host-suffix, local, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 224.0.0.0/4, direct
ip6-cidr, fe80::/10, direct
-geoip, cn, direct
final, FINAL

[server_local]


[rewrite_local]


[task_local]
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=ğŸ“º æµåª’ä½“æœåŠ¡æŸ¥è¯¢, img-url=checkmark.seal.system, enabled=true

[http_backend]
https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, host=boxjs.com, tag=BoxJs, path=^/, enabled=true

[mitm]
;skip_validating_cert = true